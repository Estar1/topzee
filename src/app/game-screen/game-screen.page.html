<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-back-button defaultHref="home"></ion-back-button>
        </ion-buttons>
        <ion-title>Topzee</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>

    <ion-card class="scoreboard">
        <ion-card-content class="top-card">
            <ion-grid>

                <ion-row>
                    <ion-col>

                        <ion-row *ngFor="let cat of gameService.game.categories.slice(0, 7)" [ngClass]="{'disabled': cat.name === 'Bonus'}"
                                 tappable (click)="setSelectedCategory(cat.name)">
                            <ion-col><span class="v-center">{{ cat.name }}</span></ion-col>
                            <ion-col class="tappable-height"
                                     [ngClass]="{'unscored': cat.name !== 'Bonus' && (cat.score === undefined || gameService.game.category === cat.name)}">
                                <span class="v-center">{{ cat.score }}</span>
                            </ion-col>
                        </ion-row>

                    </ion-col>
                    <ion-col>

                        <ion-row *ngFor="let cat of gameService.game.categories.slice(7)"
                                 tappable (click)="setSelectedCategory(cat.name)">
                            <ion-col><span class="v-center">{{ cat.name }}</span></ion-col>
                            <ion-col class="tappable-height"
                                     [ngClass]="{'unscored': cat.score === undefined || gameService.game.category === cat.name}">
                                <span class="v-center">{{ cat.score }}</span>
                            </ion-col>
                        </ion-row>

                    </ion-col>
                </ion-row>
            <!--</ion-grid>-->

            <!--<ion-grid>-->
                <ion-row>
                    <ion-col>

                        <ion-row>
                            <ion-col><span class="disabled">Subtotal</span></ion-col>
                            <ion-col class="tappable-height"><span>{{ gameService.game.subtotalLeft }}</span></ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col><span class="disabled">TOTAL</span></ion-col>
                            <ion-col class="tappable-height"><span>{{ gameService.game.total }}</span></ion-col>
                        </ion-row>

                    </ion-col>
                    <ion-col>

                        <ion-row>
                            <ion-col><span class="disabled">Subtotal</span></ion-col>
                            <ion-col class="tappable-height"><span>{{ gameService.game.subtotalRight }}</span></ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col></ion-col>
                            <ion-col>
                                <span>
                                    <ion-button [disabled]="!gameService.game.category || gameService.game.rollsLeft === 3"
                                            class="tappable-height" (click)="save()">Save</ion-button>
                                </span>
                            </ion-col>
                        </ion-row>

                    </ion-col>
                </ion-row>

            </ion-grid>
        </ion-card-content>
    </ion-card>

    <div dice-row>
        <div *ngFor="let die of gameService.game.dice; index as i">
            <div class="die" tappable (click)="dieClick(i)" [ngClass]="{ 'locked': gameService.game.dice[i].locked }">
                <span class="pips">{{ die.pips ? die.pips : '' }}</span>
            </div>
        </div>
    </div>

    <div roll-row>
        <div *ngFor="let roll of [].constructor(gameService.game.rollsLeft)" roll-icon></div>
        <ion-button size="medium" [disabled]="!gameService.game.rollsLeft || !gameService.game.turnsLeft || !this.unlockedCount"
                    margin-left class="tappable-height" (click)="roll()">{{ rollLabel }}</ion-button>
    </div>

    <!--<ion-grid *ngIf="!gameService.game?.playing">-->
        <!--<ion-row margin-start margin-end>-->
            <!--<ion-col justify-content-center>-->
                <!--<ion-button expand="block" size="small" color="success" (click)="reset()">Play again</ion-button>-->
            <!--</ion-col>-->
        <!--</ion-row>-->
    <!--</ion-grid>-->

</ion-content>
